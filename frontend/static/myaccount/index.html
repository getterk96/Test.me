<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>个人中心</title>
        <script src="https://unpkg.com/vue"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://unpkg.com/current-device/umd/current-device.min.js"></script>
        <script src="../js/uni.js"></script>
        <link type="text/css" rel="stylesheet" href="../css/uni.css" />
        <link type="text/css" rel="stylesheet" href="../css/myaccount.css" />
    </head>
    <body>
        <div id="header">
            <div id="header-content">
                <div id="header-greeting">{{ greeting }}</div>
                <div id="header-title">{{ title }}</div>
                <nav><ul>
                    <li v-for='link in link_list'>
                        <a :href='link.link' @click='link.action'>{{ link.alias }}</a>
                    </li>
                </ul></nav>
            </div>
        </div>
        <nav id="side-nav">
            <ul>
                <li v-for="item in list">
                    <label :class="['choice', item == choice ? 'chosen' : 'unchosen']" @click='select(item)'>{{ item }}</label>
                </li>
            </ul>
        </nav>
        <div id="body">
          <template v-if="page == '个人信息'">
              <div :class="['session']">
                  <button :class="['operator', 'settings']" v-if="!modify_basic_info" @click="start_modify_basic_info">修改基本信息</button>
                  <template v-else>
                      <button :class="['operator', 'settings', 'negative']" @click="cancel_modify_basic_info">取消</button>
                      <button :class="['operator', 'settings']" @click="save_modify_basic_info">保存</button>
                  </template>
              </div>
              <div :class="['session']">
                  <div id="avatar">
                      <img :src="user.avatar.link" />
                      <div>
                          <label :class="['fileuploader']">
                              <input type="file" @change="uploadavatar" v-if="user.avatar.editable"/>
                          </label>
                          点击修改头像
                    </div>
                  </div>
                  <div id="basicinfo">
                      <input v-model="user.nickname.content" disabled :class="['large']" v-if="!modify_basic_info"/>
                      <input v-model="user.nickname.content" :class="['large']" v-else />
                      <div><span :class="['grey']">{{ '[' + user.org.content + ']' + user.username.content }}</span></div>
                  </div>
              </div>
          </template>
        </div>
    </body>
    <script src="../js/uni_c.js"></script>
    <script src="../js/header_c.js"></script>
    <script src="../js/myaccount_c.js"></script>
</html>
<!-- template -->
